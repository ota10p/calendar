(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{X:()=>n,Y:()=>r});class e{constructor(){this.currentDates=[];const t=new Date,e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),r=new Date(t.getFullYear(),t.getMonth(),1).getDay(),n={currentYear:t.getFullYear(),currentMonth:t.getMonth(),currentDate:t.getDate(),lastDate:e,firstDay:r};this.currentDates.push(n),this.addListener()}static getInstance(){return this.instance?this.instance:this.instance=new e}isJanuary(t){return 0===t}isDecember(t){return 11===t}prevMonth(){const t=this.getDates().shift();this.isJanuary(t.currentMonth)?(t.lastDate=new Date(t.currentYear,t.currentMonth,0).getDate(),t.currentYear-=1,t.currentMonth=11,t.firstDay=new Date(t.currentYear,t.currentMonth,1).getDay()):(t.lastDate=new Date(t.currentYear,t.currentMonth,0).getDate(),t.currentMonth-=1,t.firstDay=new Date(t.currentYear,t.currentMonth,1).getDay()),this.currentDates.unshift(t),n.createDateField(this.currentDates)}nextMonth(){const t=this.getDates().shift();this.isDecember(t.currentMonth)?(t.currentYear+=1,t.currentMonth=0,t.lastDate=new Date(t.currentYear,t.currentMonth+1,0).getDate(),t.firstDay=new Date(t.currentYear,t.currentMonth,1).getDay()):(t.currentMonth+=1,t.lastDate=new Date(t.currentYear,t.currentMonth+1,0).getDate(),t.firstDay=new Date(t.currentYear,t.currentMonth,1).getDay()),this.currentDates.unshift(t),n.createDateField(this.currentDates)}addListener(){const t=document.getElementById("prev_btn"),e=document.getElementById("next_btn");t.addEventListener("click",this.prevMonth.bind(this)),e.addEventListener("click",this.nextMonth.bind(this))}getDates(){return this.currentDates.slice()}}const r=e.getInstance(),n=new class{constructor(){this.week=["日","月","火","水","木","金","土"],this.dispDates=r.getDates(),this.createDateField(this.dispDates)}markTodayColor(t,e){const r=e.querySelectorAll("td");for(const e of r)e.textContent===t.toString()&&e.classList.add("active-date")}addDateMark(t,e){const r=new Date,n=r.getFullYear(),a=r.getMonth(),s=r.getDate();n===t.currentYear&&a===t.currentMonth&&s===t.currentDate&&this.markTodayColor(s,e)}renderDates(t,e){const r=document.getElementById("calendar_field");r.innerHTML=e,this.addDateMark(t,r)}createDateField(t){const e=t.shift();let r=1,n="";n=`<h1>${e.currentYear}/${e.currentMonth+1}</h1>`,n+="<tr>";for(let t of this.week)n+=`<td>${t}</td>`;n+="</tr>";for(let t=0;t<6;t++){n+="<tr>";for(let a=0;a<7;a++)0===t&&a<e.firstDay||r>e.lastDate?n+="<td></td>":(n+=`<td>${r}</td>`,r++);n+="</tr>"}this.renderDates(e,n)}}})();